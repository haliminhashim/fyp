{"version":3,"sources":["../../src/pages/cart/cart.module.ts","../../src/pages/cart/cart.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CartPage } from './cart';\n\n@NgModule({\n  declarations: [\n    CartPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CartPage),\n  ],\n})\nexport class CartPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, ToastController, ModalController } from 'ionic-angular';\nimport { CartsProvider } from '../../providers/carts/carts';\nimport { UsersProvider } from '../../providers/users/users';\nimport { LoginPage } from '../../pages/login/login';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-cart',\n  templateUrl: 'cart.html',\n})\nexport class CartPage {\n  cart;\n  total: number = 0.00;\n  user: any = this.usersProvider.currentUser();\n  constructor(public navCtrl: NavController, public navParams: NavParams, public usersProvider: UsersProvider, public cartsProvider: CartsProvider, public viewCtrl: ViewController, public toastCtrl: ToastController, public modalCtrl: ModalController) {\n    this.cart = [];\n    this.cartsProvider.getCartByUserId(this.user.id).then(data => {\n      this.cart = data;\n      this.total = this.calculateTotal(data);\n    })\n  }\n\n  calculateTotal(cart) {\n    let amount = 0;\n    cart.forEach(item => {\n      if (item.product.confirm != false)\n        amount += (item.product.price * item.product.quantity)\n    });\n    return amount;\n  }\n\n  presentToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: 1500,\n      position: 'bottom'\n    });\n\n    toast.onDidDismiss(() => {\n      console.log('Dismissed toast');\n    });\n\n    toast.present();\n  }\n\n  decreaseQuantity(index) {\n    let quantity = this.cart[index].product.quantity;\n    if (quantity <= 1) {\n      this.presentToast(\"Cannot Quantity Minimum 1\");\n    }\n    else {\n      this.cart[index].product.quantity -= 1;\n      this.cartsProvider.updateQuantity(this.cart[index].product);\n    }\n    this.total = this.calculateTotal(this.cart);\n  }\n\n  increaseQuantity(index) {\n    let quantity = this.cart[index].product.quantity;\n    if (quantity >= 10) {\n      this.presentToast(\"Cannot Quantity Maximum 10\");\n    }\n    else {\n      this.cart[index].product.quantity += 1;\n      this.cartsProvider.updateQuantity(this.cart[index].product);\n    }\n    this.total = this.calculateTotal(this.cart);\n  }\n\n  checkout(cart) {\n    let checkoutList = []\n    cart.forEach(item => {\n      if (item.product.confirm)\n        checkoutList.push(item);\n    });\n    if (this.user.id != 0){\n      this.navCtrl.push('CheckoutPage', {\n        items: checkoutList,\n        subTotal: this.total\n      });\n    }\n    else\n      this.navCtrl.setRoot(LoginPage);\n  }\n\n  removeFromCart(id) {\n    this.cartsProvider.delete(id).then(res => {\n      this.cartsProvider.getCartByUserId(this.user.id).then(data => {\n        this.cart = data;\n        this.total = this.calculateTotal(data);\n      })\n    });\n  }\n\n  public editOption(product) {\n    var modalPage = this.modalCtrl.create('ProductOptionsPage', {\n      data: product\n    });\n\n    modalPage.onDidDismiss((data) => {\n      product = data;\n    })\n\n    modalPage.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cart/cart.ts"],"sourceRoot":""}