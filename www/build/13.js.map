{"version":3,"sources":["../../src/pages/address/address.module.ts","../../src/pages/address/address.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddressPage } from './address';\n\n@NgModule({\n  declarations: [\n    AddressPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddressPage),\n  ],\n})\nexport class AddressPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/address/address.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, ToastController } from 'ionic-angular';\nimport { UsersProvider } from '../../providers/users/users';\nimport { AddressesProvider } from '../../providers/addresses/addresses';\n\n@IonicPage()\n@Component({\n  selector: 'page-address',\n  templateUrl: 'address.html',\n})\nexport class AddressPage {\n  addresses: any = [];\n  address: object = {};\n  user: any = this.usersProvider.currentUser();\n  constructor(public navCtrl: NavController, public toastCtrl: ToastController, public addressesProvider: AddressesProvider, public navParams: NavParams, public modalCtrl: ModalController, public usersProvider: UsersProvider) {\n    this.getAddresses();\n  }\n\n  getAddresses(){\n    this.addressesProvider.getAddressesByUserId(this.user.id).then(data => {\n      this.addresses = data;\n    });\n  }\n\n  createAddress() {\n    var modalPage = this.modalCtrl.create('CreateAddressPage');\n    modalPage.present();\n\n    modalPage.onDidDismiss(() => {\n      this.getAddresses();\n    })\n  }\n\n  viewAddress(address) {\n    var modalPage = this.modalCtrl.create('AddressDetailsPage', {\n      data: address\n    });\n    modalPage.present();\n\n    modalPage.onDidDismiss(() => {\n      this.getAddresses();\n    })\n  }\n\n  deleteAddress(id) {\n    this.addressesProvider.delete(id).then(res => {\n      if (res) {\n        this.getAddresses();\n        this.presentToast(\"Address has been sucessfully deleted.\")\n      }\n      else\n        this.presentToast(\"Unable to delete information. Please try again\")\n    });\n  }\n\n  setBillingDefault(data){\n    let json = {\n      \"id\": this.user.id,\n      \"defaultBillingAddress\": data\n    }\n    this.usersProvider.update(json).then(data => {\n      if(data != {}){\n        this.user = data;\n        this.presentToast(\"Default Billing Address has been updated\");\n      }\n      else{\n        this.presentToast(\"Unable to update information. Please try again\");\n      }\n    });\n  }\n\n  setShippingDefault(data){\n    let json = {\n      \"id\": this.user.id,\n      \"defaultShippingAddress\": data\n    }\n    this.usersProvider.update(json).then(data => {\n      if(data != {}){\n        this.user = data;\n        this.presentToast(\"Default Shipping Address has been updated\");\n      }\n      else{\n        this.presentToast(\"Unable to update information. Please try again\");\n      }\n    });\n  }\n\n  presentToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: 2000,\n      position: 'bottom'\n    });\n\n    toast.onDidDismiss(() => {\n      console.log('Dismissed toast');\n    });\n\n    toast.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/address/address.ts"],"sourceRoot":""}